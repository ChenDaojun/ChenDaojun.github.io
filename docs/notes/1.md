## 网络设置记录

记录我校我接手过的网络设置

## 一楼办公室相关

> 使用PandoraBox固件，设备为 斐讯k2

> 固件版本为2017.09

上网方式为：静态IP

由于我校网络皆有网络中心控制，上网用的都是NAT后的静态IP。

> WAN口IP为 192.168.10.47
>> 子网掩码为 255.255.255.0
>>
>> 网关为 192.168.10.254

> LAN口IP为 192.168.1.1
>
> 子网掩码为 255.255.255.0

LAN口无需设置网关自可上网。

## 二楼大本营

声明:本文撰写日期为2022年5月7日，一切(指本文)以2020年至2022年F201所有设备为准。

本文撰写时，F201所用路由系统为 [ikuai](https://www.ikuai8.com/).

但是，开源的操作系统才是最终解决方案！

推荐使用:
> [OpenWrt](https://openwrt.org/)
>> OpenWrt 推荐使用 [esir大佬](https://www.youtube.com/c/eSirPlayGround) 编译的x86_64的固件，基于Lead源码
>> 
>> 下载地址如下: [esirPG网盘](https://drive.google.com/drive/folders/1uRXg_krKHPrQneI3F2GNcSVRoCgkqESr?sort=13&direction=a)
>
> 同时，以下的路由系统也推荐使用
>
> [Alpine_Linux](https://www.alpinelinux.org/)
>
> [pfSense](https://www.pfsense.org/)
>
> [OPNsense](https://opnsense.org/)



DNS一律设置为：
> 114.114.114.114
> 
> 8.8.8.8

主路由设置

> wan口设置为

>>  IP address:192.168.10.83
>>
>> netmask:255.255.255.0
>>
>> gateway:192.168.10.254

LAN口设置如下(示例)

> 192.168.3.1
>
> 255.255.255.0(固定)
>
> 网关不用设置


旁路由设置(可选)

> LAN IP:192.168.x.x
> 
> LAN网关: 192.168.x.x(此IP为主路由IP)

## OpenWrt虚拟机安装

> 准备工具如下
> 
> 负责转换Img成为VMDK镜像的软件: [StarWind V2V Image Converter](https://www.starwindsoftware.com/starwind-v2v-converter)
> 
> 一个OpenWrt的Img镜像，可以从[这里](https://drive.google.com/drive/folders/1PsS3c0P7a4A4KY8plQg4Fla8ZI-PGBb1?sort=13&direction=a)下载，本教程使用的是eSir大佬编译的固件。
> 
> esir的Youtube Channel是(https://www.youtube.com/c/eSirPlayGround)
> 
> 解压缩软件
> >
> >用于提取gz压缩包中的img格式镜像
> 
> 用于提供虚拟化的软件
> 
> [VMware Workstation Pro](https://www.vmware.com/products/workstation-pro/workstation-pro-evaluation.html)


### 正式开始
VMware 界面情况如下![screenshot](https://cdn.jsdelivr.net/gh/ChenDaojun/blog-cdn/blog_net/1.png)

### 第一步
**先解压gz压缩包**，**提取出img格式镜像**

打开StarWind V2V Converter,你可能会遇到提示，即让你以管理员的身份启动应用，点击 **是** 即可
![screenshot](https://cdn.jsdelivr.net/gh/ChenDaojun/blog-cdn/blog_net/2.png)

### 第二步
点击 "Local file" 按钮与 "Next"
- ![screenshot](https://cdn.jsdelivr.net/gh/ChenDaojun/blog-cdn/blog_net/3.png)
- ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/4.png)

### 第三步
进入这一界面后，点击旁边的 "..."，找到解压提取出来的img镜像
- ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/5.png)
- ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/6.png)
- ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/7.png)

### 第四步
选择img镜像，并开始转换
- ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/8.png)
- ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/9.png)
- ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/10.png)
- ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/11.png)
- ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/12.png)
- ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/13.png)
- ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/14.png)
- ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/15.png)

### 第五步
正式开始安装(VMware Workstation Pro版)

1. 打开VMware Workstation Pro
2. 创建虚拟机 ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/16.png)
3. 这里选典型 ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/17.png)
4. 此处如下选择![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/18.png)
5. 此处选择 ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/19.png)
6. 此处更改 ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/20.png)
7. 此处选择 ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/21.png)
8. 此处 ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/22.png)
9. 此处更改 ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/23.png)
10. 半成品 ![screenshot](https://raw.githubusercontent.com/ChenDaojun/blog-cdn/main/blog_net/24.png)
11. 添加磁盘